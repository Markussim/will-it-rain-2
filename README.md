# 🌦 Will It Rain?

## 📋 Project Overview

This project uses AWS Lambda, Secrets Manager, and the OpenAI API to provide weather forecasts and a bit of humor! It fetches weather data, formats it, and sends it via a webhook to a Discord server. Whether you're in dev mode or production, rest assured, the right webhook will be used. 

## 🛠 Technologies Used

- **AWS Lambda**: Serverless architecture to handle the function execution.
- **AWS Secrets Manager**: Securely stores and manages secrets like webhooks and API keys.
- **OpenAI**: Generates a weather summary with a touch of humor.
- **Discord**: Receives the weather updates.
- **SMHI API**: Fetches weather forecast data.

## 🚀 Features

- **Fetch Weather Data**: Retrieves 24-hour weather data from SMHI.
- **Format Weather Data**: Converts weather data into a readable format.
- **Send to Discord**: Posts the formatted weather data to a Discord webhook.
- **Humor with AI**: Uses OpenAI to create a humorous summary of the weather in Swedish.

## ⚙️ Environment Variables

- `DEV`: Set to `"true"` for development mode, otherwise production mode is assumed.

## 🔐 Secrets

Secrets are managed with AWS Secrets Manager to securely store sensitive information like:
- `WEBHOOK_DEV`: Discord webhook for development.
- `WEBHOOK_PROD`: Discord webhook for production.
- `TO_TAG_DEV`: Tag for Discord user/group in development.
- `TO_TAG_PROD`: Tag for Discord user/group in production.
- `OPEN_AI_KEY`: API key for OpenAI.

## 📈 Weather Data Source

Weather data is fetched from the SMHI API for the specified coordinates:
- Longitude: `11.953125`
- Latitude: `57.703266`

## ⏰ Time Zone

The application uses the `Europe/Stockholm` timezone for both weather data and summaries.

## 🤖 AI Summary

The weather summary is generated by OpenAI's GPT-4 model with a bit of humor injected, aimed to make weather updates more enjoyable!

## 📜 License

This project is licensed under the MIT License.

## ➡️ Getting Started

1. Ensure you have your secrets set up in AWS Secrets Manager.
2. Deploy your AWS Lambda function.
3. Set the appropriate environment variables.

## 📝 Notes

- Make sure your AWS credentials and permissions are correctly set up for access to Secrets Manager and Lambda execution.
- Verify your Discord webhook URLs and tags for both development and production environments.

Enjoy your quirky weather updates! 🌤️☔
